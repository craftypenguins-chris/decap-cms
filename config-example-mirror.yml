# Example Decap CMS config with local preview mirror
backend:
  name: git-gateway  # Using git-gateway with GitHub
  branch: main

# Editorial workflow as usual
publish_mode: editorial_workflow

# NEW: Mirror configuration for local preview
# This enables real-time updates to your local Hugo server
local_preview_mirror:
  url: http://localhost:8081/api/v1
  allowed_hosts: 
    - localhost
    - 127.0.0.1
    - cms.craftypenguins.net
    - cp-website-dev.prawn-cod.ts.net
    - cp-website-dev

media_folder: static/images
public_folder: /images

collections:
  - name: blog
    label: Blog
    folder: content/blog
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Publish Date", name: "date", widget: "datetime"}
      - {label: "Draft", name: "draft", widget: "boolean", default: true}
      - {label: "Body", name: "body", widget: "markdown"}
