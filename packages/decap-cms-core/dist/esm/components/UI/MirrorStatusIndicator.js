import _styled from "@emotion/styled/base";
function _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }
import React from 'react';
import { connect } from 'react-redux';
import { colors } from 'decap-cms-ui-default';
import { jsx as ___EmotionJSX } from "@emotion/react";
const StatusDot = /*#__PURE__*/_styled("span", {
  target: "e14127qo2",
  label: "StatusDot"
})("display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:", props => {
  switch (props.status) {
    case 'connected':
      return colors.successGreen;
    case 'error':
      return colors.errorRed;
    default:
      return colors.textFieldBorder;
  }
}, ";" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1VJL01pcnJvclN0YXR1c0luZGljYXRvci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV2lEIiwiZmlsZSI6Ii4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1VJL01pcnJvclN0YXR1c0luZGljYXRvci50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IGNvbG9ycyB9IGZyb20gJ2RlY2FwLWNtcy11aS1kZWZhdWx0JztcblxuaW50ZXJmYWNlIE1pcnJvclN0YXR1c0luZGljYXRvclByb3BzIHtcbiAgc3RhdHVzOiAnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ2Vycm9yJztcbiAgbGFzdFN5bmM/OiBEYXRlO1xuICBlcnJvcj86IHN0cmluZztcbn1cblxuY29uc3QgU3RhdHVzRG90ID0gc3R5bGVkLnNwYW48eyBzdGF0dXM6IHN0cmluZyB9PmBcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogOHB4O1xuICBoZWlnaHQ6IDhweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHtwcm9wcyA9PiB7XG4gICAgc3dpdGNoIChwcm9wcy5zdGF0dXMpIHtcbiAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgIHJldHVybiBjb2xvcnMuc3VjY2Vzc0dyZWVuO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gY29sb3JzLmVycm9yUmVkO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGNvbG9ycy50ZXh0RmllbGRCb3JkZXI7XG4gICAgfVxuICB9fTtcbmA7XG5cbmNvbnN0IFN0YXR1c1dyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiA0cHggOHB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAke2NvbG9ycy50ZXh0fTtcbiAgYmFja2dyb3VuZDogJHtjb2xvcnMuYmFja2dyb3VuZH07XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbWFyZ2luLWxlZnQ6IDhweDtcbmA7XG5cbmNvbnN0IFN0YXR1c1RleHQgPSBzdHlsZWQuc3BhbmBcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbmA7XG5cbmNvbnN0IE1pcnJvclN0YXR1c0luZGljYXRvcjogUmVhY3QuRkM8TWlycm9yU3RhdHVzSW5kaWNhdG9yUHJvcHM+ID0gKHsgXG4gIHN0YXR1cywgXG4gIGxhc3RTeW5jLCBcbiAgZXJyb3IgXG59KSA9PiB7XG4gIGNvbnN0IGdldFN0YXR1c1RleHQgPSAoKSA9PiB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgIHJldHVybiBsYXN0U3luYyA/IGBNaXJyb3Igc3luY2VkICR7bmV3IERhdGUobGFzdFN5bmMpLnRvTG9jYWxlVGltZVN0cmluZygpfWAgOiAnTWlycm9yIGNvbm5lY3RlZCc7XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHJldHVybiBlcnJvciA/IGBNaXJyb3IgZXJyb3I6ICR7ZXJyb3J9YCA6ICdNaXJyb3IgZXJyb3InO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdNaXJyb3Igb2ZmbGluZSc7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFN0YXR1c1dyYXBwZXIgdGl0bGU9e2dldFN0YXR1c1RleHQoKX0+XG4gICAgICA8U3RhdHVzRG90IHN0YXR1cz17c3RhdHVzfSAvPlxuICAgICAgPFN0YXR1c1RleHQ+TG9jYWwgUHJldmlldzwvU3RhdHVzVGV4dD5cbiAgICA8L1N0YXR1c1dyYXBwZXI+XG4gICk7XG59O1xuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IGFueSkgPT4gKHtcbiAgc3RhdHVzOiBzdGF0ZS5taXJyb3JTdGF0dXM/LmdldCgnc3RhdHVzJykgfHwgJ2Rpc2Nvbm5lY3RlZCcsXG4gIGxhc3RTeW5jOiBzdGF0ZS5taXJyb3JTdGF0dXM/LmdldCgnbGFzdFN5bmMnKSxcbiAgZXJyb3I6IHN0YXRlLm1pcnJvclN0YXR1cz8uZ2V0KCdlcnJvcicpLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShNaXJyb3JTdGF0dXNJbmRpY2F0b3IpO1xuIl19 */"));
const StatusWrapper = /*#__PURE__*/_styled("div", {
  target: "e14127qo1",
  label: "StatusWrapper"
})("display:flex;align-items:center;padding:4px 8px;font-size:12px;color:", colors.text, ";background:", colors.background, ";border-radius:4px;margin-left:8px;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1VJL01pcnJvclN0YXR1c0luZGljYXRvci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkJnQyIsImZpbGUiOiIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9VSS9NaXJyb3JTdGF0dXNJbmRpY2F0b3IudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBjb2xvcnMgfSBmcm9tICdkZWNhcC1jbXMtdWktZGVmYXVsdCc7XG5cbmludGVyZmFjZSBNaXJyb3JTdGF0dXNJbmRpY2F0b3JQcm9wcyB7XG4gIHN0YXR1czogJ2Nvbm5lY3RlZCcgfCAnZGlzY29ubmVjdGVkJyB8ICdlcnJvcic7XG4gIGxhc3RTeW5jPzogRGF0ZTtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFN0YXR1c0RvdCA9IHN0eWxlZC5zcGFuPHsgc3RhdHVzOiBzdHJpbmcgfT5gXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICR7cHJvcHMgPT4ge1xuICAgIHN3aXRjaCAocHJvcHMuc3RhdHVzKSB7XG4gICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICByZXR1cm4gY29sb3JzLnN1Y2Nlc3NHcmVlbjtcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgcmV0dXJuIGNvbG9ycy5lcnJvclJlZDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBjb2xvcnMudGV4dEZpZWxkQm9yZGVyO1xuICAgIH1cbiAgfX07XG5gO1xuXG5jb25zdCBTdGF0dXNXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogNHB4IDhweDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjb2xvcjogJHtjb2xvcnMudGV4dH07XG4gIGJhY2tncm91bmQ6ICR7Y29sb3JzLmJhY2tncm91bmR9O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIG1hcmdpbi1sZWZ0OiA4cHg7XG5gO1xuXG5jb25zdCBTdGF0dXNUZXh0ID0gc3R5bGVkLnNwYW5gXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG5gO1xuXG5jb25zdCBNaXJyb3JTdGF0dXNJbmRpY2F0b3I6IFJlYWN0LkZDPE1pcnJvclN0YXR1c0luZGljYXRvclByb3BzPiA9ICh7IFxuICBzdGF0dXMsIFxuICBsYXN0U3luYywgXG4gIGVycm9yIFxufSkgPT4ge1xuICBjb25zdCBnZXRTdGF0dXNUZXh0ID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICByZXR1cm4gbGFzdFN5bmMgPyBgTWlycm9yIHN5bmNlZCAke25ldyBEYXRlKGxhc3RTeW5jKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1gIDogJ01pcnJvciBjb25uZWN0ZWQnO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gZXJyb3IgPyBgTWlycm9yIGVycm9yOiAke2Vycm9yfWAgOiAnTWlycm9yIGVycm9yJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnTWlycm9yIG9mZmxpbmUnO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTdGF0dXNXcmFwcGVyIHRpdGxlPXtnZXRTdGF0dXNUZXh0KCl9PlxuICAgICAgPFN0YXR1c0RvdCBzdGF0dXM9e3N0YXR1c30gLz5cbiAgICAgIDxTdGF0dXNUZXh0PkxvY2FsIFByZXZpZXc8L1N0YXR1c1RleHQ+XG4gICAgPC9TdGF0dXNXcmFwcGVyPlxuICApO1xufTtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBhbnkpID0+ICh7XG4gIHN0YXR1czogc3RhdGUubWlycm9yU3RhdHVzPy5nZXQoJ3N0YXR1cycpIHx8ICdkaXNjb25uZWN0ZWQnLFxuICBsYXN0U3luYzogc3RhdGUubWlycm9yU3RhdHVzPy5nZXQoJ2xhc3RTeW5jJyksXG4gIGVycm9yOiBzdGF0ZS5taXJyb3JTdGF0dXM/LmdldCgnZXJyb3InKSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoTWlycm9yU3RhdHVzSW5kaWNhdG9yKTtcbiJdfQ== */"));
const StatusText = /*#__PURE__*/_styled("span", {
  target: "e14127qo0",
  label: "StatusText"
})(process.env.NODE_ENV === "production" ? {
  name: "158icaa",
  styles: "margin-left:4px"
} : {
  name: "158icaa",
  styles: "margin-left:4px/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1VJL01pcnJvclN0YXR1c0luZGljYXRvci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0M4QiIsImZpbGUiOiIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9VSS9NaXJyb3JTdGF0dXNJbmRpY2F0b3IudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBjb2xvcnMgfSBmcm9tICdkZWNhcC1jbXMtdWktZGVmYXVsdCc7XG5cbmludGVyZmFjZSBNaXJyb3JTdGF0dXNJbmRpY2F0b3JQcm9wcyB7XG4gIHN0YXR1czogJ2Nvbm5lY3RlZCcgfCAnZGlzY29ubmVjdGVkJyB8ICdlcnJvcic7XG4gIGxhc3RTeW5jPzogRGF0ZTtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFN0YXR1c0RvdCA9IHN0eWxlZC5zcGFuPHsgc3RhdHVzOiBzdHJpbmcgfT5gXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICR7cHJvcHMgPT4ge1xuICAgIHN3aXRjaCAocHJvcHMuc3RhdHVzKSB7XG4gICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICByZXR1cm4gY29sb3JzLnN1Y2Nlc3NHcmVlbjtcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgcmV0dXJuIGNvbG9ycy5lcnJvclJlZDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBjb2xvcnMudGV4dEZpZWxkQm9yZGVyO1xuICAgIH1cbiAgfX07XG5gO1xuXG5jb25zdCBTdGF0dXNXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogNHB4IDhweDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjb2xvcjogJHtjb2xvcnMudGV4dH07XG4gIGJhY2tncm91bmQ6ICR7Y29sb3JzLmJhY2tncm91bmR9O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIG1hcmdpbi1sZWZ0OiA4cHg7XG5gO1xuXG5jb25zdCBTdGF0dXNUZXh0ID0gc3R5bGVkLnNwYW5gXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG5gO1xuXG5jb25zdCBNaXJyb3JTdGF0dXNJbmRpY2F0b3I6IFJlYWN0LkZDPE1pcnJvclN0YXR1c0luZGljYXRvclByb3BzPiA9ICh7IFxuICBzdGF0dXMsIFxuICBsYXN0U3luYywgXG4gIGVycm9yIFxufSkgPT4ge1xuICBjb25zdCBnZXRTdGF0dXNUZXh0ID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICByZXR1cm4gbGFzdFN5bmMgPyBgTWlycm9yIHN5bmNlZCAke25ldyBEYXRlKGxhc3RTeW5jKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1gIDogJ01pcnJvciBjb25uZWN0ZWQnO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gZXJyb3IgPyBgTWlycm9yIGVycm9yOiAke2Vycm9yfWAgOiAnTWlycm9yIGVycm9yJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnTWlycm9yIG9mZmxpbmUnO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTdGF0dXNXcmFwcGVyIHRpdGxlPXtnZXRTdGF0dXNUZXh0KCl9PlxuICAgICAgPFN0YXR1c0RvdCBzdGF0dXM9e3N0YXR1c30gLz5cbiAgICAgIDxTdGF0dXNUZXh0PkxvY2FsIFByZXZpZXc8L1N0YXR1c1RleHQ+XG4gICAgPC9TdGF0dXNXcmFwcGVyPlxuICApO1xufTtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBhbnkpID0+ICh7XG4gIHN0YXR1czogc3RhdGUubWlycm9yU3RhdHVzPy5nZXQoJ3N0YXR1cycpIHx8ICdkaXNjb25uZWN0ZWQnLFxuICBsYXN0U3luYzogc3RhdGUubWlycm9yU3RhdHVzPy5nZXQoJ2xhc3RTeW5jJyksXG4gIGVycm9yOiBzdGF0ZS5taXJyb3JTdGF0dXM/LmdldCgnZXJyb3InKSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoTWlycm9yU3RhdHVzSW5kaWNhdG9yKTtcbiJdfQ== */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});
const MirrorStatusIndicator = ({
  status,
  lastSync,
  error
}) => {
  const getStatusText = () => {
    switch (status) {
      case 'connected':
        return lastSync ? `Mirror synced ${new Date(lastSync).toLocaleTimeString()}` : 'Mirror connected';
      case 'error':
        return error ? `Mirror error: ${error}` : 'Mirror error';
      default:
        return 'Mirror offline';
    }
  };
  return ___EmotionJSX(StatusWrapper, {
    title: getStatusText()
  }, ___EmotionJSX(StatusDot, {
    status: status
  }), ___EmotionJSX(StatusText, null, "Local Preview"));
};
const mapStateToProps = state => ({
  status: state.mirrorStatus?.get('status') || 'disconnected',
  lastSync: state.mirrorStatus?.get('lastSync'),
  error: state.mirrorStatus?.get('error')
});
export default connect(mapStateToProps)(MirrorStatusIndicator);